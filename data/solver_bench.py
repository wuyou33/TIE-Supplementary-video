from matplotlib import pyplot as plt

import numpy as np

ddp =np.loadtxt('ddp1.txt')


acados_hpipm_x = np.loadtxt('acados_hpipm_x.txt')
acados_hpipm_u = np.loadtxt('acados_hpipm_u.txt')
acados_osqp_x = np.loadtxt('acados_osqp_x.txt')
acados_osqp_u = np.loadtxt('acados_osqp_u.txt')
casadi_osqp_x = np.loadtxt('casadi_osqp_x.txt')
casadi_osqp_u = np.loadtxt('casadi_osqp_u.txt')
casadi_ipopt_x = np.loadtxt('casadi_ipopt_x.txt')
casadi_ipopt_u = np.loadtxt('casadi_ipopt_u.txt')

plt.figure(1)
plt.subplot(2,2,1)
plt.plot(acados_hpipm_x[:,0],acados_hpipm_x[:,1],"-",linewidth=5,label='acados_hpipm_xy')
plt.plot(acados_osqp_x[:,0],acados_osqp_x[:,1],"--",linewidth=5,label='acados_osqp_xy')
plt.plot(casadi_osqp_x[:,0],casadi_osqp_x[:,1],"-",linewidth=5,label='casadi_osqp_xy')
plt.plot(casadi_ipopt_x[:,0],casadi_ipopt_x[:,1],"-.",linewidth=5,label='casadi_ipopt_xy')
plt.plot(ddp[:,1],ddp[:,2],"-.",linewidth=5,label='ddp_xy')
plt.grid(True)
plt.xticks(fontsize=18)
plt.yticks(fontsize=18)
plt.xlabel("x(m)",fontsize=18)
plt.ylabel("y(m)",fontsize=18)
plt.title("Mobile base Trajectory",fontsize=18)
plt.legend(fontsize=18)
plt.subplot(2,2,2)
dt = 0.1
time = dt * np.arange(acados_osqp_u.shape[0])

plt.plot(time,acados_hpipm_u[:,0],"-",linewidth=5,label='acados_hpipm_av')
plt.plot(time,acados_hpipm_u[:,1],"--",linewidth=5,label='acados_hpipm_aw')
plt.plot(time,acados_osqp_u[:,0],"-",linewidth=5,label='acados_osqp_av')
plt.plot(time,acados_osqp_u[:,1],"--",linewidth=5,label='acados_osqp_aw')
plt.plot(time,casadi_osqp_u[:,0],"-",linewidth=5,label='casadi_osqp_av')
plt.plot(time,casadi_osqp_u[:,1],"--",linewidth=5,label='casadi_osqp_aw')
plt.plot(time,casadi_ipopt_u[:,0],"-.",linewidth=5,label='casadi_ipopt_av')
plt.plot(time,casadi_ipopt_u[:,1],"-.",linewidth=5,label='casadi_ipopt_aw')
plt.plot(time,ddp[:,18],"--",linewidth=5,label='ddp_av')
plt.plot(time,ddp[:,19],"-.",linewidth=5,label='ddp_aw')
plt.grid(True)
plt.legend(fontsize=18,loc='upper right')
plt.xticks(fontsize=18)
plt.yticks(fontsize=18)
plt.xlabel("t(s)",fontsize=18)
plt.ylabel("acceleration",fontsize=18)
plt.title("Mobile base Input",fontsize=18)

plt.subplot(2,2,3)
plt.plot(time,acados_hpipm_x[:,3],"-",linewidth=5,label='acados_hpipm_j1')
plt.plot(time,acados_hpipm_x[:,4],"--",linewidth=5,label='acados_hpipm_j3')
plt.plot(time,acados_osqp_x[:,3],"-",linewidth=5,label='acados_osqp_j1')
plt.plot(time,acados_osqp_x[:,5],"--",linewidth=5,label='acados_osqp_j3')
plt.plot(time,casadi_osqp_x[:-1,3],"-",linewidth=5,label='casadi_osqp_j1')
plt.plot(time,casadi_osqp_x[:-1,5],"--",linewidth=5,label='casadi_osqp_j3')
plt.plot(time,casadi_ipopt_x[:-1,3],"-.",linewidth=5,label='casadi_ipopt_j1')
plt.plot(time,casadi_ipopt_x[:-1,5],"-.",linewidth=5,label='casadi_ipopt_j3')
plt.plot(time,ddp[:,4],"--",linewidth=5,label='ddp_j1')
plt.plot(time,ddp[:,6],"-.",linewidth=5,label='ddp_j3')
plt.grid(True)
plt.xticks(fontsize=18)
plt.yticks(fontsize=18)
plt.xlabel("t(s)",fontsize=18)
plt.ylabel("rad",fontsize=18)
plt.legend(fontsize=18)
plt.title("Manipulator Trajectory",fontsize=18)


plt.subplot(2,2,4)
plt.plot(time,acados_hpipm_u[:,2],"-",linewidth=5,label='acados_hpipm_aj1')
plt.plot(time,acados_hpipm_u[:,4],"--",linewidth=5,label='acados_hpipm_aj3')
plt.plot(time,acados_osqp_u[:,2],"-",linewidth=5,label='acados_osqp_aj1')
plt.plot(time,acados_osqp_u[:,4],"--",linewidth=5,label='acados_osqp_aj3')
plt.plot(time,casadi_osqp_u[:,2],"-",linewidth=5,label='casadi_osqp_aj1')
plt.plot(time,casadi_osqp_u[:,4],"--",linewidth=5,label='casadi_osqp_aj3')
plt.plot(time,casadi_ipopt_u[:,2],"-.",linewidth=5,label='casadi_ipopt_aj1')
plt.plot(time,casadi_ipopt_u[:,4],"-.",linewidth=5,label='casadi_ipopt_aj3')
plt.plot(time,ddp[:,20],"--",linewidth=5,label='ddp_aj1')
plt.plot(time,ddp[:,22],"-.",linewidth=5,label='ddp_aj3')
plt.grid(True)
plt.xticks(fontsize=18)
plt.yticks(fontsize=18)
plt.xlabel("t(s)",fontsize=18)
plt.ylabel("rad/s^2",fontsize=18)
plt.legend(fontsize=18,loc='upper right')
plt.title("Manipulator Input",fontsize=18)


plt.show()

